{% extends 'ClarolineCoreBundle::form_theme.html.twig' %}

{% block userpicker_widget %}
    {% spaceless %}
        <div class="input-group">
            <input type="text"
                   class="form-control user-picker"
                   placeholder="{{ 'add_user'|trans({}, 'platform') }}"
                   data-multiple="{% if multiple %}multiple{% else %}single{% endif %}"
                   data-show-username="{% if show_username %}1{% else %}0{% endif %}"
                   data-show-mail="{% if show_mail %}1{% else %}0{% endif %}"
                   data-show-code="{% if show_code %}1{% else %}0{% endif %}"
                   data-excluded-users="{% for user in excluded_users %}{{ user.getId() }}{% if not loop.last %};{% endif %}{% endfor %}"
                   data-forced-groups="{% for group in forced_groups %}{{ group.getId() }}{% if not loop.last %};{% endif %}{% endfor %}"
                   data-forced-roles="{% for role in forced_roles %}{{ role.getId() }}{% if not loop.last %};{% endif %}{% endfor %}"
                   data-forced-workspaces="{% for workspace in forced_workspaces %}{{ workspace.getId() }}{% if not loop.last %};{% endif %}{% endfor %}"
            >
            <span class="input-group-btn">
                <button class="btn btn-default user-picker"
                        data-multiple="{% if multiple %}multiple{% else %}single{% endif %}"
                        data-show-username="{% if show_username %}1{% else %}0{% endif %}"
                        data-show-mail="{% if show_mail %}1{% else %}0{% endif %}"
                        data-show-code="{% if show_code %}1{% else %}0{% endif %}"
                        data-excluded-users="{% for user in excluded_users %}{{ user.getId() }}{% if not loop.last %};{% endif %}{% endfor %}"
                        data-forced-groups="{% for group in forced_groups %}{{ group.getId() }}{% if not loop.last %};{% endif %}{% endfor %}"
                        data-forced-roles="{% for role in forced_roles %}{{ role.getId() }}{% if not loop.last %};{% endif %}{% endfor %}"
                        data-forced-workspaces="{% for workspace in forced_workspaces %}{{ workspace.getId() }}{% if not loop.last %};{% endif %}{% endfor %}"
                        type="button"
                >
                    <i class="fa fa-user"></i>
                </button>
            </span>
        </div>
    {% endspaceless %}
{% endblock %}
